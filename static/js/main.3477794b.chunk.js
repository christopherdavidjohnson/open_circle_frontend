(this.webpackJsonpopen_circle_frontend=this.webpackJsonpopen_circle_frontend||[]).push([[0],{31:function(e,t,s){},32:function(e,t,s){},35:function(e,t){},40:function(e,t,s){},59:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(33),c=s.n(r),i=(s(40),s(3)),o=s(4),l=s(18),d=s(6),h=s(5),j=s(16),p=s(8),u=s(2),b=s(9),m=s.n(b),f=(s(59),s(0)),O=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"login-signup",children:[Object(f.jsx)("h1",{className:"home_header",children:" Welcome to the homepage!"}),Object(f.jsx)(p.b,{to:"/login",children:"Log In"}),Object(f.jsx)(p.b,{to:"/signup",children:"Sign Up"})]})}}]),s}(n.Component),g=s(15),x=(s(69),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleChange=function(e){var t=e.target,s=t.name,a=t.value;n.setState(Object(g.a)({},s,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,s={email:t.email,password:t.password};m.a.post("https://open-circle-server.herokuapp.com/login",{user:s},{withCredentials:!0}).then((function(e){console.log("this is the post request",e.data.logged_in),e.data.logged_in?(n.props.handleLogin(e.data),n.redirect()):n.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},n.redirect=function(){n.props.history.push("/feed")},n.handleErrors=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("ul",{children:n.state.errors.map((function(e){return Object(f.jsx)("li",{children:e},e)}))})})},n.state={email:"joel@ga.co",password:"chicken",errors:""},n}return Object(o.a)(s,[{key:"componentWillMount",value:function(){return this.props.loggedInStatus?this.redirect():null}},{key:"render",value:function(){var e=this.state,t=e.email,s=e.password;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"home_header",children:" Welcome to the Login page!"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{placeholder:"email",type:"text",name:"email",value:t,onChange:this.handleChange}),Object(f.jsx)("input",{placeholder:"password",type:"password",name:"password",value:s,onChange:this.handleChange}),Object(f.jsx)("button",{placeholder:"submit",type:"submit",children:"Log In"}),Object(f.jsxs)("div",{children:["or ",Object(f.jsx)(p.b,{to:"/signup",children:"Not a member? Sign up!"})]})]}),Object(f.jsx)("div",{children:this.state.errors?this.handleErrors():null})]})}}]),s}(n.Component)),v=(s(70),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).handleChange=function(e){var t=e.target,s=t.name,a=t.value;n.setState(Object(g.a)({},s,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,s={email:t.email,password:t.password,password_confirmation:t.password_confirmation};m.a.post("https://open-circle-server.herokuapp.com/users",{user:s},{withCredentials:!0}).then((function(e){"created"===e.data.status?(n.props.handleLogin(e.data),n.redirect()):n.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},n.redirect=function(){n.props.history.push("/feed")},n.handleErrors=function(){return Object(f.jsx)("div",{children:Object(f.jsx)("ul",{children:n.state.errors.map((function(e){return Object(f.jsx)("li",{children:e},e)}))})})},n.state={email:"",password:"",password_confirmation:"",errors:""},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.password,n=e.password_confirmation;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:" Welcome to the Signup page!"}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{placeholder:"email",type:"text",name:"email",value:t,onChange:this.handleChange}),Object(f.jsx)("input",{placeholder:"password",type:"password",name:"password",value:s,onChange:this.handleChange}),Object(f.jsx)("input",{placeholder:"password confirmation",type:"password",name:"password_confirmation",value:n,onChange:this.handleChange}),Object(f.jsx)("button",{placeholder:"submit",type:"submit",children:"Sign Up"})]}),Object(f.jsx)("div",{children:this.state.errors?this.handleErrors():null})]})}}]),s}(n.Component)),N=(s(31),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.call(this)}return Object(o.a)(s,[{key:"render",value:function(){return console.log(this.props.data.user.created_at),Object(f.jsxs)("div",{className:"post-box",children:[Object(f.jsxs)("div",{className:"post-header",children:[Object(f.jsx)("img",{className:"poster-pic",src:this.props.data.user.profile_image,alt:"profile"}),Object(f.jsxs)("div",{className:"post-name-and-time",children:[Object(f.jsxs)("div",{className:"poster-name",children:[this.props.data.user.name," "]}),Object(f.jsx)("div",{className:"post-time",children:this.props.data.user.created_at})]})]}),Object(f.jsxs)("div",{className:"post-body",children:[Object(f.jsxs)("p",{className:"post-text",children:[" ",this.props.data.content]}),Object(f.jsx)("p",{children:this.props.data.image})]})]})}}]),s}(n.Component)),C=(s(71),s.p+"static/media/banner.9b8039ad.png"),k=(s.p,s.p,s.p,s.p,function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).displayImages=function(){var t=[];e.state.posts.forEach((function(e){e.image.forEach((function(e){t.push(e)}))})),e.setState({photos:t})},e.state={name:"",bio:"",profile_image:"",photos:[],posts:[]},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;!function t(){m.a.get("https://open-circle-server.herokuapp.com/posts").then((function(s){var n=[];s.data.forEach((function(t){t.user.name===e.state.name&&n.push(t)})),e.setState({posts:n}),setTimeout(t,4e3)}))}();!function(){console.log(e.props.match.params.id);var t="".concat("https://open-circle-server.herokuapp.com/users/").concat(e.props.match.params.id);console.log(t),m.a.get(t).then((function(t){e.setState({name:t.data.user.name,bio:t.data.user.bio,profile_image:t.data.user.profile_image})}))}()}},{key:"render",value:function(){return console.log("name is",this.state.name),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"profile-top",children:Object(f.jsxs)("div",{className:"name-and-picture",children:[Object(f.jsx)("div",{className:"banner-picture-div",children:Object(f.jsx)("img",{className:"banner-picture",src:C,alt:"banner"})}),Object(f.jsx)("img",{className:"profile-picture",src:this.state.profile_image,alt:"profile"}),Object(f.jsx)("p",{className:"profile-name",children:this.state.name})]})}),Object(f.jsxs)("div",{className:"profile-bottom",children:[Object(f.jsxs)("div",{className:"profile-left",children:[Object(f.jsxs)("div",{className:"profile-intro profile-box",children:[Object(f.jsx)("p",{className:"profile-header",children:"Intro"}),Object(f.jsx)("p",{className:"bio",children:this.state.bio})]}),Object(f.jsx)("div",{className:"profile-photos profile-box",children:Object(f.jsx)("p",{className:"profile-header",children:"Photos"})})]}),Object(f.jsx)("div",{className:"profile-right",children:Object(f.jsxs)("div",{className:"profile-posts profile-box",children:[Object(f.jsx)("p",{className:"profile-header",children:"Posts"}),this.state.posts.map((function(e){return Object(f.jsx)(N,{data:e})}))]})})]})]})}}]),s}(n.Component)),w=(s(72),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(f.jsx)("h1",{className:"home_header",children:" Welcome to the Circles page!"})}}]),s}(n.Component)),y=s(35),L=s.n(y),S=(s(73),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={circles:[]},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("mycircles",this.state.circles),Object(f.jsx)("div",{})}}]),s}(n.Component)),_=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={posts:[]},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this;!function t(){m.a.get("https://open-circle-server.herokuapp.com/posts.json").then((function(s){e.setState({posts:s.data}),setTimeout(t,4e3)}))}()}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{children:Object(f.jsx)(S,{user:this.props.user})}),Object(f.jsxs)("div",{className:"feed-bottom",children:[Object(f.jsx)("div",{className:"feed-left",children:Object(f.jsxs)("div",{className:"feed-posts feed-box",children:[Object(f.jsx)("p",{className:"feed-header",children:"Posts"}),this.state.posts.map((function(e){return Object(f.jsx)(N,{data:e})}))]})}),Object(f.jsxs)("div",{className:"feed-right",children:[Object(f.jsxs)("div",{className:"feed-members feed-box",children:[Object(f.jsx)("p",{className:"feed-header",children:"Members"}),Object(f.jsx)(p.b,{to:"/profile/".concat(this.props.user.password_digest),children:Object(f.jsxs)("div",{className:"members-box members-box-self",children:[Object(f.jsx)("img",{className:"member-pic member-pic-self",src:this.props.user.profile_image,alt:"profile"}),Object(f.jsxs)("div",{className:"member-name member-name-self",children:[" Edit ",this.props.user.name," "]})]})}),this.state.posts.map((function(e){return Object(f.jsx)(p.b,{to:"/profile/".concat(e.user.id),children:Object(f.jsxs)("div",{className:"members-box",children:[Object(f.jsx)("img",{className:"member-pic",src:e.user.profile_image,alt:"profile"}),Object(f.jsxs)("div",{className:"member-name",children:[" ",e.user.name," "]})]})})}))]}),Object(f.jsxs)("div",{className:"feed-photos feed-box",children:[Object(f.jsx)("p",{className:"feed-header",children:"Photos"}),Object(f.jsxs)("div",{className:"feed-photos-container",children:[Object(f.jsx)("div",{className:"feed-photo-container",children:Object(f.jsx)("img",{className:"feed-photo-thumbnail",src:C,alt:"profile"})}),Object(f.jsx)("div",{className:"feed-photo-container"}),Object(f.jsx)("div",{className:"feed-photo-container"}),Object(f.jsx)("div",{className:"feed-photo-container"})]})]})]})]})]})}}]),s}(n.Component),I=(s(32),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){return Object(i.a)(this,s),t.call(this,e)}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return console.log("logout buttton test",this.props.isLoggedIn),Object(f.jsx)("div",{className:"navdiv",children:Object(f.jsx)(p.a,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{className:"navbar",children:[Object(f.jsx)("div",{className:"nav",children:Object(f.jsx)(p.b,{to:"/",children:"Home"})}),Object(f.jsx)("div",{className:"nav",children:Object(f.jsx)(p.b,{to:"/profile",children:"Profile"})}),Object(f.jsx)("div",{className:"nav",children:Object(f.jsx)(p.b,{to:"/circles",children:"Circles"})}),Object(f.jsx)("div",{className:"nav",children:Object(f.jsx)(p.b,{to:"/messages",children:"Messages"})}),Object(f.jsx)("div",{className:"nav",children:Object(f.jsx)(p.b,{to:"/feed",children:"Feed"})}),this.props.isLoggedIn?Object(f.jsx)(p.b,{to:"/logout",onClick:this.props.handleClick,children:"Log Out"}):null]}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{path:"/profile/:id",render:function(e){return Object(f.jsx)(k,Object(j.a)({},e))}}),";",Object(f.jsx)(u.a,{exact:!0,path:"/profile",render:function(t){return Object(f.jsx)(k,{user:e.props.user})}}),";",Object(f.jsx)(u.a,{path:"/circles",render:function(t){return Object(f.jsx)(w,{user:e.props.user})}}),";",Object(f.jsx)(u.a,{path:"/messages",render:function(t){return Object(f.jsx)(L.a,{user:e.props.user})}}),";",Object(f.jsx)(u.a,{path:"/feed",render:function(t){return Object(f.jsx)(_,{user:e.props.user})}}),";",Object(f.jsx)(u.a,{path:"/login",render:function(t){return Object(f.jsx)(x,Object(j.a)(Object(j.a)({},t),{},{handleLogin:e.props.handleLogin,loggedInStatus:e.props.isLoggedIn}))}}),Object(f.jsx)(u.a,{path:"/signup",render:function(t){return Object(f.jsx)(v,Object(j.a)(Object(j.a)({},t),{},{handleLogin:e.props.handleLogin,loggedInStatus:e.props.isLoggedIn}))}}),Object(f.jsx)(u.a,{exact:!0,path:"/",render:function(t){return Object(f.jsx)(O,{loggedInStatus:e.props.isLoggedIn})}}),";"]})]})})})}}]),s}(n.Component)),E=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).loginStatus=function(){m.a.get("https://open-circle-server.herokuapp.com/logged_in",{withCredentials:!0}).then((function(e){e.data.logged_in?n.handleLogin(e):n.handleLogout(),console.log("logged in?",e)})).catch((function(e){return console.log("api errors:",e)}))},n._handleClick=function(){m.a.delete("https://open-circle-server.herokuapp.com/logout",{withCredentials:!0}).then((function(e){n.handleLogout(),console.log(Object(l.a)(n)),window.location.hash="/"})).catch((function(e){return console.log(e)}))},n.handleLogin=function(e){console.log(e),n.setState({isLoggedIn:!0,user:e.user})},n.handleLogout=function(){n.setState({isLoggedIn:!1,user:{}}),console.log("loggedin status at logout",n.state.isLoggedIn)},n.state={isLoggedIn:!1,user:{},circle:""},n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.loginStatus()}},{key:"render",value:function(){return Object(f.jsx)(I,{handleClick:this._handleClick,handleLogin:this.handleLogin,isLoggedIn:this.state.isLoggedIn,user:this.state.user})}}]),s}(n.Component),M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,75)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),r(e),c(e)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),M()}},[[74,1,2]]]);
//# sourceMappingURL=main.3477794b.chunk.js.map